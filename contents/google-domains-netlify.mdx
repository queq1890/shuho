---
title: Google Domains でドメインを取得してnetlify でホストしているサイトに割り当てる
publishedAt: 2019-04-20
summary: Google Domains を使ってドメインを取得して、Netlify のプロジェクトに割り当てるまで
image: /static/images/google-domains-logo.png
tags: ['netlify', 'google-domains']
---

(この記事は別のブログサイトに掲載していた記事を移植したものです)

<Image
  alt={`domains-logo`}
  src={`/static/images/google-domains-logo.png`}
  width={1414}
  height={676}
/>

## 1.Google Domains でドメインを購入する

<Image
  alt={`domains-top`}
  src={`/static/images/_2019-04-20_10_59_56.png`}
  width={2880}
  height={1198}
/>

<Image
  alt={`search-result`}
  src={`/static/images/2019-04-20-11.00.30.png`}
  width={1664}
  height={1224}
/>

<Image
  alt={`verification`}
  src={`/static/images/_2019-04-20_11_22_41.png`}
  width={1252}
  height={934}
/>

## 2.Google Domains 側の設定を行う

<Image
  alt={`domains`}
  src={`/static/images/2019-04-20-11.30.24.png`}
  width={1680}
  height={622}
/>

様々な設定項目が表示されていますが、Netlify のプロジェクトにドメインを割り当てるだけなら、ページ最下部の `カスタムリソースレコード` を編集するだけで大丈夫です。netlify の IP アドレス(104.198.14.52)を `Aレコード` に、リダイレクト用に www 付きのドメインを `CNAME` レコードに登録します。

<Image
  alt={`custom`}
  src={`/static/images/_2019-04-20_11_31_54.png`}
  width={2082}
  height={818}
/>

## 3.netlify 側の設定を行う

Google Domains 側の設定に続いて、netlify 側の設定も行っていきます。
ドメインを設定したいプロジェクトのダッシュボードにアクセスして、「Domain settings」をクリックします。

<Image
  alt={`domain-settings`}
  src={`/static/images/_2019-04-20_12_04_52.png`}
  width={1424}
  height={536}
/>

遷移先のページの上部に「Custom domains」という項目があり、ここからドメインの設定ができます。「Add Custom domain」をクリックしてください。

<Image
  alt={`add-custom-domain`}
  src={`/static/images/_2019-04-20_14_12_03.png`}
  width={1952}
  height={904}
/>

先程取得したドメインを入力して、「Verify」を押します。途中「このドメインは自分で所有しているドメインか？」のような確認が入りますが、Yes と答えれば大丈夫です。

<Image
  alt={`verify-new-domain`}
  src={`/static/images/2019-04-20-14.12.20.png`}
  width={1436}
  height={826}
/>

これでドメインの設定が完了しました！自分の取得したドメインにブラウザからアクセスしてみると、設定を行った netlify でホストしているページが表示されるはずです。
「Domain settings」のページから HTTPS 化も行えるので、忘れずに設定しておきましょう。

<Image
  alt={`https`}
  src={`/static/images/2019-04-20-14.34.56.png`}
  width={1918}
  height={1414}
/>

## 終わりに

Google Domains を使うのも netlify でホストしているサイトにカスタムドメインを設定するのも初めてだったのですが、思ったよりもさくさく設定できて良かったです。
次はガバガバになっている画像の置き場所・読み込み周り、タグ機能の追加あたりの改修をできたらと思います。

## 参考

- <https://www.netlify.com/docs/custom-domains/>
- <https://aakira.app/blog/2018/07/googledomains/>
- <https://www.ravness.com/2018/07/netlifydomain/#.XLrka5P7RQI>
