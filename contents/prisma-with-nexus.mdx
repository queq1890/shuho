---
title: Prisma + Nexus Schema ã§GraphQL API ã‚’æ›¸ã
publishedAt: 2020-11-27
summary: Prisma + Nexus ã®ç’°å¢ƒæ§‹ç¯‰
image: /static/images/prisma-with-nexus/prisma-with-nexus.png
tags: ['prisma', 'nexus', 'GraphQL', 'Node.js']
---

### ç›®æ¬¡

1.  [Prisma ã®è¨­å®š](#prisma-ã®è¨­å®š)
2.  [Nexus + GraphQL API ã®è¨­å®š](#nexus--graphql-api-ã®è¨­å®š)

## Prisma ã®è¨­å®š

ã¾ãšã¯ Prisma å‘¨ã‚Šã® package ã‚’ install ã™ã‚‹ã€‚

```bash
$ yarn init -y
$ yarn add -D @prisma/cli
$ yarn add @prisma/client
```

æ¬¡ã«ã€`prisma init` ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

```bash
$ npx prisma init
```

`prisma init` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€root ç›´ä¸‹ã« `prisma/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚ `prsima/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€prisma ç”¨ã®`.env` ã¨ã€`schema.prisma`ãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹ã€‚

    # .env

    # Environment variables declared in this file are automatically made available to Prisma.
    # See the documentation for more detail: https://pris.ly/d/prisma-schema#using-environment-variables

    # Prisma supports the native connection string format for PostgreSQL, MySQL and SQLite.
    # See the documentation for all the connection string options: https://pris.ly/d/connection-strings

    DATABASE_URL="postgresql://johndoe:mypassword@localhost:5432/mydb?schema=public"

```javascript
// schema.prisma

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}
```

ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã‚€ã¨ã€ `DATABASE_URL` ã¨ã„ã†ç’°å¢ƒå¤‰æ•°ã§ DB ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚ãªã®ã§ã€ã“ã“ã®å€¤ã‚’ä»»æ„ã®ã‚‚ã®ã«å¤‰æ›´ã—ã¦ã„ãã€‚

    # .env

    # Environment variables declared in this file are automatically made available to Prisma.
    # See the documentation for more detail: https://pris.ly/d/prisma-schema#using-environment-variables

    # Prisma supports the native connection string format for PostgreSQL, MySQL and SQLite.
    # See the documentation for all the connection string options: https://pris.ly/d/connection-strings

    DATABASE_URL="postgresql://queq1890:foo@localhost:5432/bar"

> Prisma ã¨çµ„ã¿åˆã‚ã›ã‚‰ã‚Œã‚‹ DB ã®ç¨®é¡ã«ã¤ã„ã¦ã¯ã€[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.prisma.io/docs/concepts/components/prisma-schema/data-sources/)ã‚’å‚ç…§

ç¶šã„ã¦ã€Prisma ã® schema ã‚’è¨˜è¿°ã—ã¦ã„ãã€‚schema å†…ã§æ‰±ãˆã‚‹è¨˜æ³•ã«ã¤ã„ã¦ã¯ã€[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.prisma.io/docs/concepts/components/prisma-schema/data-model)ã«è©³ã—ãã¾ã¨ã¾ã£ã¦ã„ã‚‹ã€‚
ä»¥ä¸‹ã¯ã€User ã¨ Profile ã¨ã„ã† model ã‚’ä½œæˆã—ã¦ã€ User-has-Profile ãª one-to-one ãª relation ã‚’è¨­å®šã™ã‚‹ä¾‹ã§ã‚ã‚‹ã€‚

```javascript
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id      Int      @id @default(autoincrement())
  email   String   @unique
  name    String?
  role    Role     @default(USER)
  profile Profile?
}

model Profile {
  id      Int     @id @default(autoincrement())
  bio     String
  user    User    @relation(fields: [userId], references: [id])
  userId  Int
}

enum Role {
  USER
  ADMIN
}
```

schema ã®è¨˜è¿°ã‚’å¤‰æ›´ã—ãŸã®ã§ã€ä»Šåº¦ã¯ DB ã«å¤‰æ›´ã‚’åæ˜ ã—ã¦ã„ãã€‚Prisma CLI ã‹ã‚‰ migration ç”¨ã®ã‚³ãƒãƒ³ãƒ‰æä¾›ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã€‚
ã¾ãšã¯`npx prisma migrate save --experimental` ã‚’å®Ÿè¡Œã—ã¦ã€migration file ã‚’ç”Ÿæˆã™ã‚‹ã€‚

```bash
$ npx prisma migrate save --experimental --name <migration ã®åå‰>
```

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`prisma/` ä»¥ä¸‹ã« `migrations/` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚ã¾ãŸã€migrations ä»¥ä¸‹ã«ã¯ã€`<migaration save ã‚’å®Ÿè¡Œã—ãŸæ—¥æ™‚>-<migration ã®åå‰>` ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç”Ÿæˆã•ã‚Œã¦ãŠã‚Šã€migration ã‚’å®Ÿè¡Œã™ã‚‹æ™‚ç‚¹ã§ã® schema ã®æ§‹é€ ã‚’ç¤ºã™`schema.prisma`ã‚„ã€ã“ã® migration ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ç™ºè¡Œã•ã‚Œã‚‹ SQL / å®Ÿè¡Œå‰å¾Œã® diff ãªã©ã‚’ç¤ºã—ãŸ`README.md`ã€å®Ÿè¡Œã™ã‚‹å‡¦ç†ã‚’ json æ§‹é€ ã§ã¾ã¨ã‚ãŸ `steps.json` ãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹ã€‚
ã“ã®çŠ¶æ…‹ã§ã€`npx prisma migrate up --experimental` ã‚’å®Ÿè¡Œã™ã‚Œã°ã€å¤‰æ›´ãŒ DB ã«ã¾ã§åæ˜ ã•ã‚Œã‚‹ã€‚

```bash
$ npx prisma migrate up --experimental
```

migration ãŒçµ‚ã‚ã£ãŸã‚‰ã€`npx primsa generate` ã‚’å®Ÿè¡Œã—ã¦ã€ç¾åœ¨ã® schema ã«åŸºã¥ã„ãŸ prisma client ç”¨ã®å‹ã‚’ç”Ÿæˆã™ã‚‹ã€‚

```bash
$ npx prisma generate
```

## Nexus + GraphQL API ã®è¨­å®š

### Express + Apollo Server ã®è¨­å®š

ã“ã“ã¾ã§ã§ prisma ã®è¨­å®šã¯ã§ããŸã®ã§ã€prisma ã‚’åˆ©ç”¨ã™ã‚‹ API ã‚’å®Ÿè£…ã—ã¦ã„ãã€‚ä»Šå›ã¯ express + Apollo Server ã®æ§‹æˆã§å®Ÿè£…ã™ã‚‹ã€‚

```bash
$ yarn add -D ts-node-dev typescript @types/express
$ yarn add express apollo-server-express
```

\*`tsconfig.json` ã¯å¥½ã¿ã®ã‚‚ã®ã‚’ç”¨æ„ã™ã‚‹

```bash
$ touch tsconfig.json
```

ç¶šã„ã¦ã€`src/server.ts` ã‚’ä½œæˆã—ã¦ã€express + Apollo Server ã®æ§‹æˆã§ server ãŒç«‹ã¡ä¸ŠãŒã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
`package.json` ã« dev / build ç”¨ã® script ã‚‚è¿½è¨˜ã—ã¦ãŠãã€‚

```typescript
// src/server.ts

import express from 'express';
import { ApolloServer, gql } from 'apollo-server-express';

// TODO: schema ã‚’å®šç¾©ã—ãŸã‚‰å‰Šé™¤ã™ã‚‹
const typeDefs = gql`
  # Comments in GraphQL strings (such as this one) start with the hash (#) symbol.

  # This "Book" type defines the queryable fields for every book in our data source.
  type Book {
    title: String
    author: String
  }

  # The "Query" type is special: it lists all of the available queries that
  # clients can execute, along with the return type for each. In this
  # case, the "books" query returns an array of zero or more Books (defined above).
  type Query {
    books: [Book]
  }
`;

const PORT = 4000;

const app = express();
const apollo = new ApolloServer({ typeDefs });

apollo.applyMiddleware({ app });

app.listen({ port: PORT }, () =>
  console.log(`ğŸš€ Server ready at http://localhost:4000${apollo.graphqlPath}`)
);
```

```json
"scripts": {
  "dev": "ts-node-dev --no-notify --respawn --transpile-only src/server.ts",
  "build": "tsc -p .",
  "start": "node dist/server.js",
}
```

ã“ã“ã¾ã§è¨˜è¿°ã—ãŸçŠ¶æ…‹ã§ã€`yarn dev`ã€€ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€GraphQL Playground ãŒç«‹ã¡ä¸ŠãŒã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚

### prisma client ã‚’ context ã‹ã‚‰åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

æ¬¡ã«ã€Apollo Server ã® context ã« prisma client ã‚’è¿½åŠ ã™ã‚‹ã€‚ã“ã®è¨­å®šã‚’ã™ã‚‹ã“ã¨ã§ã€å…¨ã¦ã® resolver ã‹ã‚‰ context çµŒç”±ã§ prisma client ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

```typescript
// src/context.ts

import { PrismaClient } from '@prisma/client';
import { Request } from 'apollo-server-express';

const prisma = new PrismaClient();

export interface Context {
  request: Request & any;
  prisma: PrismaClient;
}

export function createContext(request: Request): Context {
  return {
    request,
    prisma,
  };
}
```

```typescript
// src/server.ts

import express from 'express';
import { ApolloServer, gql } from 'apollo-server-express';
import { createContext } from './context';

// TODO: schema ã‚’å®šç¾©ã—ãŸã‚‰å‰Šé™¤ã™ã‚‹
const typeDefs = gql`
  # Comments in GraphQL strings (such as this one) start with the hash (#) symbol.

  # This "Book" type defines the queryable fields for every book in our data source.
  type Book {
    title: String
    author: String
  }

  # The "Query" type is special: it lists all of the available queries that
  # clients can execute, along with the return type for each. In this
  # case, the "books" query returns an array of zero or more Books (defined above).
  type Query {
    books: [Book]
  }
`;

const PORT = 4000;

const app = express();
const apollo = new ApolloServer({ typeDefs, context: createContext });

apollo.applyMiddleware({ app });

app.listen({ port: PORT }, () =>
  console.log(`ğŸš€ Server ready at http://localhost:4000${apollo.graphqlPath}`)
);
```

### Nexus ã®è¨­å®š

#### Apollo Server ã«æ¸¡ã™ Schema ã‚’æ›¸ã

æ¬¡ã«ã€Nexus ã‚’å°å…¥ã—ã¦ GraphQL schema ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

```bash
$ yarn add @nexus/schema nexus nexus-plugin-prisma
```

`Nexus` ã«ã¯`makeSchema()`ã€€ã¨ã„ã† API ãŒå­˜åœ¨ã—ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ / feature ã® toggle / ç”Ÿæˆã™ã‚‹å‹ã€€ãªã©ã®æŒ™å‹•ã‚’è¨­å®šã—ãªãŒã‚‰ GraphQL schema ã‚’ç”Ÿæˆã§ãã‚‹ã€‚

```typescript
import * as path from 'path';
import { makeSchema } from '@nexus/schema';
import { nexusPrisma } from 'nexus-plugin-prisma';

// TODO: Nexus ç”¨ã®models / resolvers ã‚’æ›¸ã
import * as types from './types';

const schema = makeSchema({
  types,
  plugins: [
    nexusPrisma({
      experimentalCRUD: true,
    }),
  ],
  outputs: {
    schema: path.join(__dirname, './../schema.graphql'),
    typegen: path.join(__dirname, './generated/apiTypes.ts'),
  },
});

export default schema;
```

`makeSchema` ã®å„ key ã®å½¹å‰²ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã‚ã‚‹ã€‚

- `types` ã«ã¯ Nexus ã® type å®šç¾©ã‚’æ¸¡ã™ã€‚ã“ã¡ã‚‰ã¯å¾Œã»ã©è¨­å®šã™ã‚‹
- `plugins` ã«ã¯ Nexus ã® plugin éƒ¡ã‚’ array ã§æ¸¡ã™
  - prisma ã¨ã®é€£æº plugin ã§ã‚ã‚‹ `nexus-plugin-prisma` ã‚’æ¸¡ã—ã¦ã„ã‚‹
    - `experimentalCRUD: true` ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€`t.crud` ã®ã‚ˆã†ãªè¨˜æ³•ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹(è©³ç´°ã¯å¾Œè¿°)
- `outputs` ã§ã¯ Nexus ãŒ generate ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã® path ã‚’æŒ‡å®šã§ãã‚‹
  - `schema` ã¯ `*.graphql` ã® path
  - `typegen` ã¯ Nexus ã® type ç”¨ã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã® path
    - ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ generate ã™ã‚‹ã“ã¨ã§ å¾Œè¿°ã® `t.model` `t.crud` ãªã©ã« TypeScript ä¸Šã®å‹ãŒã¤ãã‚ˆã†ã«ãªã‚‹

> `makeSchema()` ã§è¨­å®šã§ãã‚‹é …ç›®ã«ã¤ã„ã¦ã¯[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nexusjs.org/docs/api/make-schema)ã‚’å‚ç…§

ç¾çŠ¶ã¯`types` ã‚’ã¾ã è¨˜è¿°ã—ã¦ã„ãªã„ã®ã§ã€å‹å®šç¾©ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã¯ã§ããªã„ãŒã€`src/server.ts` ã‚’æ›¸ãæ›ãˆã¦ã€schema ã‚’ Apollo Server ã«æ¸¡ã™ã‚ˆã†ã«ã™ã‚‹ã€‚

```typescript
// src/server.ts

import express from 'express';
import { ApolloServer } from 'apollo-server-express';
import dotenv from 'dotenv';
import { createContext } from './context';
import schema from './schema';

const PORT = 4000;

const app = express();
const apollo = new ApolloServer({ schema, context: createContext });

apollo.applyMiddleware({ app });

app.listen({ port: PORT }, () =>
  console.log(`ğŸš€ Server ready at http://localhost:4000${apollo.graphqlPath}`)
);
```

#### Nexus ã® types ã‚’æ›¸ã

ç¶šã„ã¦ã€å…ˆç¨‹é£›ã°ã—ãŸ `types` ã®è¨˜è¿°ã‚’è¡Œã£ã¦ã„ãã€‚`src/` ä»¥ä¸‹ã«ã€`types/models` `types/resolvers`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹ã€‚
`models` ã«ã¯ Prisma ã® Schema ã«è¨˜è¿°ã—ãŸ model ã‚’ Nexus ã® type ã«ã™ã‚‹è¨˜è¿°ã‚’ã€`resolvers`ã«ã¯ Query / Mutation ãªã©ã® type ã‚’è¨˜è¿°ã‚’ã™ã‚‹ã€‚

```typescript
// types/index.ts

export * from './models';
export * from './resolvers';
```

```typescript
// types/models/index.ts

// å®šç¾©ã—ãŸmodel ã®type ã‚’export ã™ã‚‹
```

```typescript
// types/resolvers/index.ts

// å®šç¾©ã—ãŸQuery / Mutation ã®type ã‚’export ã™ã‚‹
```

##### models

`nexus-plugin-prisma` ã«ã‚ˆã£ã¦ã€prisma ã®å„ model ã® attribute ã‚’`t.model` çµŒç”±ã§ Nexus ã® type å®šç¾©ä¸Šã§ã‚‚æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚
ä»¥ä¸‹ã¯ `prisma.schema` ä¸Šã§å®šç¾©ã—ãŸ User model ã‚’ã€Nexus ã® type ã¨ã—ã¦å®šç¾©ã™ã‚‹ä¾‹ã§ã‚ã‚‹ã€‚

```typescript
// types/models/User.ts

import { objectType } from '@nexus/schema';

// prisma.schema ä¸Šã§ã®User
//
// model User {
//   id      Int      @id @default(autoincrement())
//   email   String   @unique
//   name    String?
//   role    Role     @default(USER)
//   profile Profile?
// }

export const User = objectType({
  name: 'User',
  definition(t) {
    t.model.id();
    t.model.email();
    t.model.name();
    t.model.role();
  },
});
```

ç¾çŠ¶ã§ã¯ `t.model` ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ç®‡æ‰€ã«å‹ã‚¨ãƒ©ãƒ¼ãŒç”Ÿã˜ã¦ã—ã¾ã£ã¦ã„ã‚‹ãŒã€ã“ã‚Œã¯å¾Œã»ã© Nexus ã‚’ä½¿ã£ã¦å‹å®šç¾©ã‚’ç”Ÿæˆã™ã‚Œã°è§£æ¶ˆã™ã‚‹ã€‚

##### resolvers

`nexus-plugin-prisma` ã®` experimentalCRUD: true` ãƒ•ãƒ©ã‚°ã«ã‚ˆã£ã¦ã€Prisma ã®å„ model ã«å¯¾ã™ã‚‹ CRUD æ“ä½œã®ãŸã‚ã® Query / Mutation ç”¨ã® type å®šç¾©ã‚’`t.crud` ã‹ã‚‰è¡Œãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚
ä»¥ä¸‹ã¯ User ã‚’ 1 ä»¶å–å¾—ã™ã‚‹ Query ã¨ã€User ã‚’æ–°è¦ä½œæˆã™ã‚‹ Mutation ã‚’å®šç¾©ã—ã¦ã„ã‚‹ä¾‹ã§ã‚ã‚‹ã€‚

```typescript
// types/resolvers/Query.ts

import { queryType } from '@nexus/schema';

export const Query = queryType({
  definition(t) {
    t.crud.user();
  },
});
```

```typescript
// types/resolvers/Mutation.ts

import { mutationType } from '@nexus/schema';

export const Mutation = mutationType({
  definition(t) {
    t.crud.createOneUser();
  },
});
```

ã‚‚ã¡ã‚ã‚“ã€`t.field` ã‚„ `t.list.field` ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€è‡ªåˆ†ã§ resolver ã‚’æ›¸ãã“ã¨ã‚‚ã§ãã‚‹ã€‚ä»¥ä¸‹ã¯ User ã‚’ 1 ä»¶å‰Šé™¤ã™ã‚‹ Mutation ã‚’å®šç¾©ã—ã¦ã„ã‚‹ä¾‹ã§ã‚ã‚‹ã€‚

```typescript
import { idArg } from '@nexus/schema';

export const Mutation = mutationType({
  definition(t) {
    t.field('deleteUser', {
      type: 'User',
      args: {
        userId: idArg(),
      },
      resolve: async (_parent, { userId }, ctx) => {
        await ctx.prisma.user.delete({
          where: { id: userId },
          data: user,
        });
      },
    });
  },
});
```

> `t.crud` `t.model` ã§ã§ãã‚‹ã“ã¨ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nexusjs.org/docs/plugins/prisma/api)ã‚’å‚ç…§

> `t.field` `t.list.field` ãªã©ã®ã€plugin ã‚’ä½¿ã‚ãªã„ Query / Mutation å®šç¾©ã®æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€[ã“ã¡ã‚‰](https://nexusjs.org/docs/guides/schema#object-type)ã‚’å‚ç…§

##### Nexus ã‚’ä½¿ã£ã¦å‹å®šç¾©ã‚’ generate ã™ã‚‹

types ã®è¨˜è¿°ãŒã§ããŸã‚‰ã€ã„ã‚ˆã„ã‚ˆ Nexus ã‚’ç”¨ã„ã¦å‹å®šç¾©ã‚’ç”Ÿæˆã—ã¦ã„ãã€‚package.json ã« Nexus ç”¨ã® script ã‚’è¿½åŠ ã—ã€å®Ÿè¡Œã™ã‚‹ã€‚

```json
"scripts": {
  "dev": "ts-node-dev --no-notify --respawn --transpile-only src/server.ts",
  "build": "tsc -p .",
  "start": "node dist/server.js",
  "generate:nexus": "ts-node --transpile-only src/schema",
}
```

```bash
$ yarn generate:nexus
```

ã“ã‚Œã§ã€ `src/schema.ts` ä¸Šã§ `makeSchema()` ã®`outputs` option ã§æŒ‡å®šã—ãŸ path ã«ã€TypeScript ã®å‹å®šç¾©ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚ã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€`t.model` `t.crud` ã«ç”Ÿã˜ã¦ã„ãŸå‹ã‚¨ãƒ©ãƒ¼ã¯è§£æ¶ˆã•ã‚Œã‚‹ã€‚
ç”Ÿæˆã•ã‚Œã‚‹å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã¯å·¨å¤§ãªã‚‚ã®ã¨ãªã‚‹ãŸã‚ã€ã“ã“ã«ã¯è¼‰ã›ãªã„ãŒã€æ°—ã«ãªã‚‹å ´åˆã¯è‡ªåˆ†ãŒ[Nexus + Prisma ã‚’ä½¿ã£ã¦ç”Ÿæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«](https://github.com/queq1890/tango-api/blob/master/src/generated/apiTypes.ts) ã‚’ç¢ºèªã•ã‚ŒãŸã„ã€‚

### GraphQL Playground ã§è©¦ã—ã¦ã¿ã‚‹

`yarn dev` ã‚’å®Ÿè¡Œã—ã€GraphQL Playground ã‚’ç«‹ã¡ä¸Šã’ã¦ã€Nexus ã® types ã«æ›¸ã„ãŸ models / resolvers ãŒæ­£ã—ãå®Ÿè£…ã§ãã¦ã„ã‚‹ã‹è©¦ã—ã¦ã¿ã‚‹ã€‚

    $ yarn dev

DOCS / SCHEMA ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€Nexus ã® type ãŒåæ˜ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚

<Image
  alt={`schema`}
  src={`/static/images/prisma-with-nexus/schema.png`}
  width={840}
  height={1080}
/>

<Image
  alt={`docs`}
  src={`/static/images/prisma-with-nexus/docs.png`}
  width={640}
  height={1080}
/>
